<!-- collapse all     Ctrl + k + 0 -->
<!-- expand all       Ctrl + k + j -->
<!-- format           Alt + Shift + F (USE WITH CAUTION)-->
<!-- word wrap toggle Alt + z -->
<!-- - Element IDs & Classes: Use kebab-case (e.g., <div id="user-profile">) -->
<!-- - Attributes: Follow HTML syntax conventions, using lowercase (e.g., <input type="text">) -->
<!-- - Custom Attributes: Typically data-* (e.g., data-user-id) -->
    
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>__projectTemplate</title>

    <link rel="stylesheet" href="./project.css">
    <!-- <link rel="stylesheet" href="projectMenu.css"> -->
    <!-- <link rel="stylesheet" href="global.css"> -->

    <script type="module" src="./globalLogin_Client.mjs"></script>
    <script type="module" src="./globalSessions_Client.mjs"></script>

    <script type="module" src="./global_Client.mjs"></script>
    <script type="module" src="./project_Client.mjs"></script>
    <script type="module" src="./projectCamera_Client.mjs"></script>
    <script type="module" src="./projectMenu_Client.mjs"></script>
    <script type="module" src="./globalUIpopups_Client.mjs"></script>
    <script type="module" src="./projectGoogleAPIs_Client.mjs"></script>
    
    <script type="module" src="./global_Client_Dimensions.mjs"></script>

    <script type="module" src="./globalConfig_Client.mjs"></script>
    <script type="module" src="./projectConfig_Client.mjs"></script>


    <!-- <script
    src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places&v=weekly&region=AU"
    async
    defer
    ></script>
    <script
    src="https://www.gstatic.com/maps-platform/place-autocomplete-element/v1/place-autocomplete-element.js"
    async
    defer
    ></script> -->

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="icon" type="image/png" href="./favicon.png">

    <!-- PWA setup START -->
        <link rel="manifest" href="manifest.json">
        <!--  -->
            <!-- <meta name="apple-mobile-web-app-capable" content="yes"> -->
                <!-- This is recognized by Chrome on Android and aligns better with current PWA standards. -->
                    <meta name="mobile-web-app-capable" content="yes">
                <!-- This is recognized by Chrome on Android and aligns better with current PWA standards. -->
        <!--  -->
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- PWA setup END -->

    <style>
        *{
            border:1px solid red;
        }
        body {
            margin: 0;
            font-family: sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        header, footer {
            background-color: rgba(25, 255, 25,.5);
            color: rgba(0, 55, 0,1);
            font-weight: 900;
            text-align: center;
            padding: 2.5px;
            flex-shrink: 0;
        }
        main {
            position: relative;
            flex-grow: 1;
            overflow: hidden;
        }
        section {
            position: absolute;
            top: 0; left: -5000px; right: 0; bottom: 0;
            overflow-y: auto;
            opacity: 0;
            transition: opacity 0.5s ease;
            padding: 1rem;
            /* background: #f1f1f1; */
            /* background: aqua; */
        }
        section.active {
            top: 0; left: 0; right: 0; bottom: 0;
            opacity: 1;
            z-index: 1;
        }
        .section-heading{
            font-weight: 900;
        }
        .footer-controls {
            /* margin-top: 1rem; */
            text-align: center;
        }
        .footer-control {
            margin: 0 5px;
            cursor: pointer;
            height:30px;
            width:44px;
        }
        .footer-control:hover {
            border: 2px solid black;
        }
    </style>

</head>
<body>
    <header>
        <!--  -->
            <!-- <div id="classic-menu-icon-container" class="classic-menu-icon-container">
                <img src="__MenuIcon.png" height="20px">
            </div> -->
        <!--  -->
        <!--  -->
            <!-- <div> -->
                <div class="app-name">Tradie Photo Catalogue</div>
                <div id="user-email-address" class="user-email-address" style="text-align: center;">...</div>        
            <!-- </div> -->
        <!--  -->
        <!--  -->
            <!-- sign-in-out-button START -->
                <!-- initial class is "sign-in-button" and toggles to/from class "sign-out-button"-->
                    <div id="sign-in-out-container" class="sign-in-button" data-status="signed-out" tabindex="0" role="button">
                        &nbspSign&nbsp<img id="sign-in-out-icon" src="__padlock_locked.png" class="signed-out">&nbspIn&nbsp
                    </div> 
                <!-- initial class is "sign-in-button" and toggles to/from class "sign-out-button"-->
            <!-- sign-in-out-button END -->
        <!--  -->
    </header>
    <main>

                <section id="section0" class="section0 section-home">
                    <!-- 🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡 -->
                    <!-- home -->
                    <input id="section0-focus-on-activation" style="position:fixed;left:-5000px;" tabindex="-1">
                    <p class="section-heading">Home</p>
                    <p>No more lost photos</p>
                    <p>Store them by address</p>
                    <p>Add notes to each photo</p>
                    <p>Easy find by searching:</p>
                    <ul>
                        <li>Part of an address</li>
                        <li>Part of a note</li>
                        <li>Date, week, month.</li>
                    </ul>
                    <!-- 🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡🏡 -->
                </section>
                <section id="section1" class="section1 section-menu">
                    <!-- 🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒 -->
                    <!-- menu -->
                    <input id="section1-focus-on-activation" style="position:fixed;left:-5000px;" tabindex="-1">
                    <!-- <p class="section-heading">Menu</p> -->
                    <div id="classic-menu-container" class="classic-menu-container">
                        <!-- collapsable menu START -->
                        <ul>
                            <li class="header-item section-heading">Menu</li>
                            <ul class="collapsed">
                                <li class="nav-L1 menu-item" data-action="showAddress">1. Check Address</li>
                                <li class="nav-L1 menu-item" data-action="showCamera">2. Take Photo</li>
                                <li class="nav-L1 menu-item" data-action="showNotes">3. Add Notes</li>
                                <li class="nav-L1 menu-item" data-action="saveToDB">Save</li>
                                <li class="header-item" >Retrieve</li>
                                <ul class="collapsed">
                                    <li class="nav-L2 menu-item" data-action="showAddressFilter">Filter by Address</li>
                                    <li class="nav-L2 menu-item" data-action="showNotesFilter">Filter by Notes</li>
                                    <li class="header-item" >Filter by Date</li>
                                    <ul class="collapsed">
                                        <li class="nav-L3 menu-item" data-action="showDateFilter">Date</li>
                                        <li class="nav-L3 menu-item" data-action="showWeekFilter">Week</li>
                                        <li class="nav-L3 menu-item" data-action="showMonthFilter">Month</li>
                                    </ul>
                                </ul>
                            </ul>
                        </ul>
                        <!-- collapsable menu END -->
                    </div>
                    <!-- 🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒🍒 -->
                </section>
                <section id="section2" class="section2 section-camera">
                    <!-- ✅📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷 -->
                    <!-- camera -->
                    <input id="section2-focus-on-activation" style="position:fixed;left:-5000px;" tabindex="-1">
<div id="video-container" class="video-container">
    <video id="camera-stream" autoplay muted playsinline></video>
    <!-- Controls UI -->
    <div class="controls-wrapper">
        <label>Zoom:<br>
            <!-- <input type="range" id="zoom" min="0.2" max="4" step="0.05"> -->
            <input type="range" id="zoom" min="0.0" max="4" step="0.025">
        </label>
        <button id="capture-still">Capture Image</button>
    </div>
</div>
<div id="canvas-container" class="canvas-container" style="flex-direction: column; align-items: center;">
    <canvas id="canvas"></canvas>
    <button id="save-png" style="margin-top: 10px;">Save as PNG</button>
</div>
                    <!-- ✅📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷 -->
                </section>
                <section id="section2_ChatGPT1" class="section2_ChatGPT1 section-camera_ChatGPT1">
                    <!-- ✅📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷 -->
                    <!-- camera -->
                    <input id="section2-focus-on-activation_ChatGPT1" style="position:fixed;left:-5000px;" tabindex="-1">
                    <div class="video-container-wrapper_ChatGPT1">
                        <div class="vertical-slider-container_ChatGPT1">
                            <label for="panY_ChatGPT1">Pan Y
                            </label>
                            <input type="range" id="panY_ChatGPT1" min="0" max="100" step="1" value="50">
                        </div>
                        <div id="video-container_ChatGPT1" class="video-container_ChatGPT1">
                            <!-- <video id="video" src="https://www.w3schools.com/html/mov_bbb.mp4" autoplay muted playsinline loop></video> -->
                            <video id="camera-stream_ChatGPT1" class="camera-stream_ChatGPT1" autoplay playsinline></video>
                        </div>
                    </div>
                    <div class="controls-wrapper_ChatGPT1">
                        <label for="zoom_ChatGPT1">Zoom:
                            <!-- <input type="range" id="zoom" min="1" max="4" step="0.1" value="1"> -->
                            <input type="range" id="zoom_ChatGPT1" min="0.2" max="4" step="0.05" value="1">
                        </label>
                        <label for="panX_ChatGPT1">Pan X
                            <input type="range" id="panX_ChatGPT1" min="0" max="100" step="1" value="50">
                        </label>
                        <button id="capture-still_ChatGPT1">Capture View</button>
                    </div>
                    <canvas id="photo-canvas_ChatGPT1" class="photo-canvas_ChatGPT1" width="300" height="200"></canvas>
                    <!-- ✅📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷📸📷 -->
                </section>
                <section id="section2_OLD" class="section2_OLD section-camera_OLD">
                    <!-- ❌📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸 -->
                    <!-- camera -->
                    <input id="section2-focus-on-activation_OLD" style="position:fixed;left:-5000px;" tabindex="-1">
                    <!-- FULL SCREEN start -->
                    <div id="camera-container_OLD" class="camera-container_OLD">
                        <!--  -->
                            <!-- floating camera menu div START -->
                                <div id="m" class="m">
                                    <!-- <img id="c" class="c" src="./camera_icon_square_765x765_coloured.png" alt="Camera Icon" data-note="floating camera menu div."> -->
                                    <img id="c" class="c" src="./_camera.png" alt="Camera Icon" data-note="floating camera menu div.">
                                </div>
                            <!-- floating camera menu div END -->
                        <!--  -->
                        <video id="camera-stream_OLD" class="camera-stream_OLD" autoplay playsinline></video>
                        <canvas id="photo-canvas_OLD" class="photo-canvas_OLD"></canvas><br>
                        <button id="capture-btn_OLD" class="std-btn">Take Photo</button>
                        <button id="save-btn_OLD" class="std-btn" style="visibility: hidden;">Save Photo</button>
                    </div>
                    <!-- FULL SCREEN end -->
                    <!-- ❌📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸📸 -->
                </section>
                <section id="section3" class="section3 section-googleAPIs">
                    <!-- 📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌 -->
                    <!-- address -->
                    <input id="section3-focus-on-activation" style="position:fixed;left:-5000px;" tabindex="-1">
                    <p class="section-heading">Address</p>
                    <div class="autocomplete-address-container">
                        <input id="googlePlacesAPIautocomplete" class="autocomplete-address-input" type="text" placeholder="Enter address here...">
                    </div>
                    <div id="map-container" class="map-container">
                        <button id="close-map" class="close-map-btn" >Close Map</button>
                        <div id="map" class="map"></div>
                    </div>
                    <!-- 📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌📌 -->
                </section>
                <section id="section4" class="section4 section-note">
                    <!-- 📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️ -->
                    <!-- note -->
                    <input id="section4-focus-on-activation" style="position:fixed;left:-5000px;" tabindex="-1">
                    <p class="section-heading">Note</p>
                    <textarea id="notes-textarea" class="notes-textarea" placeholder="Enter note here..."></textarea>
                    <!-- 📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️📝🖋️ -->
                </section>
                <section id="section5" class="section5 section-save">
                    <!-- 💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾 -->
                    <!-- save -->
                    <input id="section5-focus-on-activation" style="position:fixed;left:-5000px;" tabindex="-1">
                    <p class="section-heading">Section 5</p>
                    <!-- 💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾💾 -->
                </section>
                <section id="section6" class="section6 section-search">
                    <!-- 🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍 -->
                    <!-- search -->
                    <input id="section6-focus-on-activation" style="position:fixed;left:-5000px;" tabindex="-1">
                    <p class="section-heading">Section 6</p>
                    <!-- 🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍🔍 -->
                </section>


    </main>

    <footer>
        <div id="footer-controls" class="footer-controls">
            <img id="footer-control-home" src="/_Home.png" class="footer-control" data-section-number="0">
            <img id="footer-control-menu" src="/_Menu.png" class="footer-control" data-section-number="1">
            <img id="footer-control-camera" src="/_Camera.png" class="footer-control" data-section-number="2">
            <img id="footer-control-address" src="/_Address.png" class="footer-control" data-section-number="3">
            <img id="footer-control-notes" src="/_Note.png" class="footer-control" data-section-number="4">
            <img id="footer-control-save" src="/_Save.png" class="footer-control" data-section-number="5">
            <img id="footer-control-search" src="/_Search.png" class="footer-control" data-section-number="6">
        </div>
    </footer>
    <script>
        // async function getModule(fileName) {
        //     const response = await fetch(fileName);
        //     if (!response.ok) {
        //         throw new Error(`Failed to load module: ${fileName}`);
        //     }
        //     const html = await response.text();
        //     return html;
        // }
        // async function loadScript(fileName, sectionId) {
        //     const html = await getModule(fileName); // get HTML string from module
        //     const section = document.getElementById(sectionId);
        //     if (section) {
        //         section.innerHTML = html;
        //     }
        // }
        // loadScript("./src/sectionModules/googlePlacesAPI.mjs","section3");
        function focusInput(sectionId) {
            const input = document.querySelector(`#section${sectionId}-focus-on-activation`);
            input?.focus();
        }
        function switchSection(index) {
            console.log(current,index);
            if (index === current) return;
            const currentSection = document.getElementById(`section${current}`);
            console.log(currentSection);
            const nextSection = document.getElementById(`section${index}`);
            currentSection.classList.remove('active');
            setTimeout(() => {
                nextSection.classList.add('active');
                console.log(nextSection);
                current = index;
                focusInput(index);
                localStorage.setItem("tas_sectionNumber",index);
            }, 500); // Matches the CSS transition duration
        }
        document.getElementById("footer-controls").addEventListener("click",(ev) => {
            // console.log(ev.target.id);
            // console.log(ev.target.getAttribute("data-section-number"));
            const sectionNumber = ev.target.getAttribute("data-section-number");
            switchSection(sectionNumber);
        });
        // set current section = last active section START
            let current = localStorage.getItem("tas_sectionNumber")? localStorage.getItem("tas_sectionNumber") : 0; // start-up at last active section
            const el = document.getElementById(`section${current}`);
            el.classList.add("active");
            switchSection(current); // ensure last active section is viewable
            focusInput(current); // set focus to active section
        // set current section = last active section END
        // set last session values START
            const address = localStorage.getItem("tas_address")? localStorage.getItem("tas_address") : "";
            document.getElementById("googlePlacesAPIautocomplete").value = address;
            console.log(address);
    </script>
</body>
</html>